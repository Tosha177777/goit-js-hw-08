{"mappings":"qhBAAAA,EAAA,S,iBAGAC,OAAOC,iBAAiB,QAmBxB,WACE,IACE,MAAMC,EAAOC,aAAaC,QAjBJ,YAkBtB,IAAKF,EACH,OAEFG,EAAiBC,KAAKC,MAAML,GAC5BM,OAAOC,QAAQJ,GAAgBK,SAAQ,EAAEC,EAAKC,MAC5CC,EAAKC,SAASH,GAAKC,MAAQA,CAAK,G,CAElC,MAAOG,GACPC,QAAQC,IAAIF,EAAMG,Q,KA5BtB,MAAML,EAAOM,SAASC,cAAc,kBACpC,IAAIf,EAAiB,GAErBQ,EAAKZ,iBAAiB,QAASoB,EAAAC,EAAA,EAG/B,SAAiBC,GACflB,EAAekB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOZ,MAAMc,OAC/CvB,aAAawB,QANW,WAMgBrB,KAAKsB,UAAUvB,G,GALR,MACjDQ,EAAKZ,iBAAiB,UAOtB,SAAkBsB,GAChBA,EAAEM,iBACFN,EAAEO,cAAcC,QAChB5B,aAAa6B,WAZW,W","sources":["src/js/03-feedback.js"],"sourcesContent":["import { values } from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nwindow.addEventListener('load', onLoad);\n\nconst form = document.querySelector('.feedback-form');\nlet currentStorage = {};\nconst FEEDBACK_FORM_KEY = 'feedback';\nform.addEventListener('input', throttle(onInput, 500));\nform.addEventListener('submit', onSubmit);\n\nfunction onInput(e) {\n  currentStorage[e.target.name] = e.target.value.trim();\n  localStorage.setItem(FEEDBACK_FORM_KEY, JSON.stringify(currentStorage));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n  localStorage.removeItem(FEEDBACK_FORM_KEY);\n}\n\nfunction onLoad() {\n  try {\n    const data = localStorage.getItem(FEEDBACK_FORM_KEY);\n    if (!data) {\n      return;\n    }\n    currentStorage = JSON.parse(data);\n    Object.entries(currentStorage).forEach(([key, value]) => {\n      form.elements[key].value = value;\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n// const refs = {\n//   form: document.querySelector('.feedback-form'),\n//   email: document.querySelector(\".feedback-form input[name='email']\"),\n//   message: document.querySelector(\".feedback-form textarea[name='message']\"),\n// };\n// const EMAIL_KEY = 'email';\n// const MESSAGE_KEY = 'message';\n\n// emailValue();\n// messageValue();\n\n// refs.form.addEventListener('submit', formSubmit);\n// refs.email.addEventListener('input', throttle(emailInput, 500));\n// refs.message.addEventListener('input', throttle(messageInput, 500));\n\n// function formSubmit(e) {\n//   e.preventDefault();\n//   e.currentTarget.reset();\n//   localStorage.clear();\n// }\n\n// function emailInput(e) {\n//   const value = e.target.value;\n//   localStorage.setItem(EMAIL_KEY, value);\n\n//   console.log(value);\n// }\n\n// function messageInput(e) {\n//   const value = e.target.value;\n//   localStorage.setItem(MESSAGE_KEY, value);\n\n//   console.log(value);\n// }\n\n// function emailValue() {\n//   const savedEmail = localStorage.getItem(EMAIL_KEY);\n//   if (savedEmail) {\n//     refs.email.value = savedEmail;\n//   }\n// }\n\n// function messageValue() {\n//   const savedMessage = localStorage.getItem(MESSAGE_KEY);\n//   if (savedMessage) {\n//     refs.message.value = savedMessage;\n//   }\n// }\n"],"names":["parcelRequire","window","addEventListener","data","localStorage","getItem","$945622fd0f572e60$var$currentStorage","JSON","parse","Object","entries","forEach","key","value","$945622fd0f572e60$var$form","elements","error","console","log","message","document","querySelector","$parcel$interopDefault","$9OeKo","e","target","name","trim","setItem","stringify","preventDefault","currentTarget","reset","removeItem"],"version":3,"file":"03-feedback.8a000ef5.js.map"}